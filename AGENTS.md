
# AGENTS.md

## 1. 문서 목적

본 문서는 **시그널 디스틸러 AI** 프로젝트에서 사용하는  
AI 에이전트(예: ChatGPT, Gemini 등)를 어떻게 활용할지에 대한 가이드이다.

- PRD.md, TECH.md에 정의된 방향성을 유지하면서
- 반복적인 작업(요약, 리팩터링, 실험 설계, 문서화)을 효율적으로 수행하기 위해
에이전트를 어떤 역할로 사용할지 정의한다.

---

## 2. 에이전트 역할 정의

### 2.1 Product Agent

- 참고 문서: `PRD.md`
- 주요 역할
  - 요구사항 정리 및 스펙 브레이크다운
  - 사용자 시나리오, 플로우 설계 보조
  - 기능 추가/변경 시 PRD 갱신 초안 작성
- 사용 예
  - “PRD.md의 3주차 실험 내용을 기준으로, 대시보드에 필요한 최소 UI 요소를 목록화해 달라.”
  - “이 기능이 실제 사용자 여정에서 어디에 들어가는지 플로우로 정리해 달라.”

### 2.2 Tech/Architecture Agent

- 참고 문서: `TECH.md`, `supabase` 디렉터리 구조
- 주요 역할
  - Next.js + Supabase 기반 아키텍처 설계 보조
  - API 설계, ERD(테이블 구조) 개선 의견
  - 성능·구조 상 개선 포인트 제안
- 사용 예
  - “TECH.md에 정의된 스택을 기준으로 Distilled Signal 생성 API의 인터페이스를 제안해 달라.”
  - “signals_raw / signals_processed / signals_distilled 테이블 사이 관계를 ERD 텍스트로 정리해 달라.”

### 2.3 Data/Signal Agent

- 참고 문서: `PRD.md`의 신호/Score 관련 섹션
- 주요 역할
  - 신호 정의, Score 설계 시 가설 제안
  - 거시·미시 요소를 반영한 피처 설계 아이디어 제안
  - 실험 결과 요약, 불일치 사례 패턴 정리
- 사용 예
  - “VIX와 개별 종목 변동성을 동시에 고려하는 Score 구성 예시를 제안해 달라.”
  - “3주차에 수집된 AI vs 인간 평가 불일치 사례를 요약하고, 공통 패턴을 찾아 달라.”

### 2.4 Code Assistant Agent

- 참고 문서: `TECH.md`, `GITHUB_CONVENTION.md`
- 주요 역할
  - TypeScript/Next.js/Supabase 코드 작성 보조
  - 리팩터링, 코드 스멜 탐지, 테스트 코드 템플릿 제안
- 사용 예
  - “Next.js App Router 기준으로 `/dashboard` 페이지에서 Supabase 데이터를 SSR로 가져오는 예시 코드를 작성해 달라.”
  - “현재 이 컴포넌트를 Server Component로 바꿀 수 있는지 검토해 달라.”

### 2.5 Documentation Agent

- 참고 문서: `PRD.md`, `TECH.md`, 기존 Markdown 문서
- 주요 역할
  - 활동 보고서, 실험 노트, 회고 작성 초안 생성
  - README, API 문서, 개발 가이드 초안 작성
- 사용 예
  - “1~2주차 활동 내용을 기반으로 중간 활동 보고서 초안을 작성해 달라.”
  - “대시보드 사용법을 README에 넣을 수 있도록 사용자 가이드를 정리해 달라.”

---

## 3. 공통 사용 원칙

### 3.1 항상 문서·코드와 함께 맥락 제공

- 에이전트를 사용할 때는 **반드시 관련 파일 일부 또는 요약을 함께 제공**한다.
  - 예: “아래는 PRD.md 중 일부입니다. 이 내용을 기준으로 …”
- “대충 이 프로젝트는 이런 거야” 수준 설명보다는,  
  실제 PRD/TECH 내용 일부를 붙여넣는 것이 정확도가 높다.

### 3.2 최종 결정은 사람이 내린다

- 에이전트가 제안하는 아키텍처, Score 수식, 실험 설계는  
  **“제안”에 불과하며, 최종 결정은 박찬영/지민성이 검토 후 내린다.**
- 특히 다음과 같은 내용은 반드시 수동 검토를 거친다.
  - Score 산식 변경
  - DB 스키마 변경
  - 보안/환경 변수 관련 설정

### 3.3 보안·비공개 정보

- 실제 API 키, 비밀번호, 접속 URL 등의 민감 정보는 에이전트에게 직접 붙여 넣지 않는다.
- 예시가 필요한 경우, **더미 값**으로 대체한다.
  - 예: `SUPABASE_URL=https://example.supabase.co`

---

## 4. 시나리오별 사용 예시

### 4.1 새 기능 추가 시

- 목적: PRD + TECH에 맞는 기능 정의 및 구현 계획 수립
- 프롬프트 예시

```text
역할: Product/Tech Agent

아래는 PRD.md 중 '3주차 – AI와 인간의 불일치' 섹션 내용입니다.
(내용 붙여넣기)

이 실험을 지원하기 위해 대시보드에 어떤 UI 컴포넌트와 API 엔드포인트가 필요할지
- 화면 요소 목록
- 필요한 API
- DB에서 추가로 조회해야 할 필드
를 표 형식으로 정리해 주세요.
````

### 4.2 Score 조정 실험 설계 시

* 목적: 데이터/신호 Agent를 활용하여 실험 설계 보조
* 프롬프트 예시

```text
역할: Data/Signal Agent

현재 Score는 아래와 같이 정의되어 있습니다.
(현 Score 산식/설명 붙여넣기)

- VIX를 더 강하게 반영하는 실험 버전을 설계하고 싶습니다.
- 실험 A/B 버전의 Score 식을 제안하고,
- 각 버전에서 예상되는 장단점을 정리해 주세요.
```

### 4.3 코드 리팩터링 시

* 목적: Code Assistant Agent로 구조·가독성 개선
* 프롬프트 예시

```text
역할: Code Assistant

아래는 Next.js App Router에서 사용 중인 서버 액션 코드입니다.
(코드 붙여넣기)

- 중복된 로직을 줄이고,
- 에러 처리와 타입 안전성을 강화하는 방향으로 리팩터링 예시를 제안해 주세요.
- 가능하면 함수 분리 기준도 설명해 주세요.
```

### 4.4 활동 보고서/회고 작성 시

* 목적: Documentation Agent로 보고서 초안 작성
* 프롬프트 예시

```text
역할: Documentation Agent

아래는 1~2주차 활동 로그입니다.
(해당 기간 작업 요약 붙여넣기)

- 교내 보고서 형식에 맞춰
  - 활동 개요
  - 세부 활동 내용
  - 느낀 점 및 성찰
을 포함한 1~2쪽 분량의 초안으로 정리해 주세요.
문체는 '~습니다'를 사용해 주세요.
```

---

## 5. AGENTS.md 유지보수 원칙

* PRD.md, TECH.md에 **큰 변화(아키텍처 변경, 실험 구조 변경 등)**가 있을 경우,

  * 해당 내용을 반영하여 AGENTS.md도 함께 업데이트한다.
* 새로운 에이전트 사용 패턴(예: 자동 리포트 생성, 슬랙 봇 응답 등)이 생기면,

  * **시나리오별 사용 예시** 섹션에 케이스를 추가한다.
* 문서는 “에이전트를 어떻게 쓰면 팀이 편해지는지”를 중심으로 구체적인 예시를 유지한다.



